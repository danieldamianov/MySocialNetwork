@using System.Security.Claims
@using SocialNetwork.Models.Users.Profile

@model UserProfileViewModel

<a class="nav-link text-light btn btn-light text-dark" href="/Users/Profile?userId=@Model.UserId">
    <img style="border-radius: 50%;" width="100" height="100" src="@Model.Photo" alt="Avatar" />
    @Model.Name
</a>

@if (this.User.FindFirstValue(ClaimTypes.NameIdentifier) == Model.UserId)
{
    <div style="margin:10px">
        <partial name="_LinkToNewPostPage" />
    </div>
}
else
{
    <a class="btn btn-secondary" style="margin:10px; border-radius:10%" href="/Users/Follow/?followerId=@this.User.FindFirstValue(ClaimTypes.NameIdentifier)&followedId=@Model.UserId">
        Follow
    </a>
}

<div class="row">
    @foreach (var post in Model.UserPosts)
    {
        <div class="column">
            <button id="@(post.PostId)postImagePreview" onclick="showDetailedModelWindowForPost('@post.PostId')">
                <img class="text-secondary" src="@post.Code" @*alt="@post.Description ,Created on: @post.DateTimeCreated "*@ style=" width: 300px; height: 300px ;border : 5px solid ;object-fit: cover">
            </button>
        </div>

        <div id="@(post.PostId)detailedModalWindow" class="modal">
            <div class="modal-content" style="word-wrap: break-word">
                <span id="@(post.PostId)close" class="close">&times;</span>
                <partial name="_PostDetailsModalWindowPartial" model="@post" />
            </div>
        </div>
    }
</div>
@*<div class="container">
         Close the image
        <span onclick="this.parentElement.style.display='none'" class="closebtn">&times;</span>
         Image text
        <div class="text-dark" id="imgtext"></div>

         Expanded image
        <img class="text-secondary" id="expandedImg" style="max-height: 600px ;border : 5px solid" alt="Click Image To Show in Real Size">

    </div>*@

@section Scripts
{
    <script src="~/js/Users/profile.js"></script>
    <script src="~/js/Home/index.js"></script>
}

@section Stylesheets
{
    <link rel="stylesheet" href="~/css/Users/profile.css" />
}






